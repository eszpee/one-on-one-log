FROM node:20-slim

WORKDIR /app

# Copy the entire application
COPY . .

# Install dependencies
RUN npm install

# Install http-server globally
RUN npm install -g http-server

# Expose port
EXPOSE 8888

# Use a very simple command - just serve the static test directory
# This is guaranteed to work while we fix the build issues
CMD ["http-server", "./static-test", "-p", "8888", "--cors", "-a", "0.0.0.0"]
